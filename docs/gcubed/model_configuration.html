<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>gcubed.model_configuration API documentation</title>
<meta name="description" content="Contains the ModelConfiguration class" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>gcubed.model_configuration</code></h1>
</header>
<section id="section-intro">
<p>Contains the ModelConfiguration class</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># ------------------------------------------------------------------
# Purpose: Definition of the model details class.
# Author: Geoff Shuetrim
# ------------------------------------------------------------------
&#34;&#34;&#34;
Contains the ModelConfiguration class
&#34;&#34;&#34;
import logging
import pandas as pd
import numpy as np
import regex as re
import os
import os.path
import sys
import importlib
from gcubed.base import Base

# Ensure pdoc generated API documentation includes the following methods.
__pdoc__ = {}
__pdoc__[&#39;ModelConfiguration._load_configuration_details&#39;] = True

class ModelConfiguration(Base):
    &#34;&#34;&#34;
    ### Overview

    Provides access to model configuration details that have been
    read in from the model configuration CSV file.
    &#34;&#34;&#34;

    def __init__(self, configuration_file: str) -&gt; None:
        &#34;&#34;&#34;

        ### Constructor

        Initialises the model details from a modified version of the CSV files
        used by G-cubed. The information in the file is a subset of the information
        in the modeldetails.csv file and a subset of the information that is stored
        in the baseinfo.csv file.

        ### Arguments
            configuration_file: the relative path, from Python&#39;s
            current working directory, to the model configuration file.

        &#34;&#34;&#34;

        if not configuration_file:
            raise Exception(&#34;A configuration file is required to create a model.&#34;)

        if not os.path.isfile(configuration_file):
            raise Exception(f&#34;Configuration file {configuration_file} does not exist.&#34;)

        # Get the directory that contains the model configuration and other related files.
        self._model_directory = os.path.dirname(os.path.realpath(configuration_file))

        data: pd.DataFrame = pd.read_csv(configuration_file, header=None)
        self._load_configuration_details(configuration_details = data)
        self.__validate()

        logging.info(f&#34;Preparing to use model {self.version} {self.build}.&#34;)

        if __class__.DOING_DETAILED_DEBUG:
            logging.info(&#34;Verbose debugging information will be logged.&#34;)
            np.set_printoptions(suppress=False, formatter={&#39;float&#39;: lambda x: &#34;{0:0.12f}&#34;.format(x)})
            pd.set_option(&#39;display.max_rows&#39;, None)
            pd.set_option(&#39;display.max_columns&#39;, None)
            pd.set_option(&#39;display.width&#39;, 2000)

    @property
    def model_directory(self):
        &#34;&#34;&#34;
        The root directory of the model, where the configuration CSV file is located.
        &#34;&#34;&#34;
        return f&#34;{self._model_directory}/&#34;
    
    @property
    def data_directory(self):
        &#34;&#34;&#34;
        The data directory of the model, where the model&#39;s data files are stored.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}data/&#34;

    @property
    def sym_directory(self):
        &#34;&#34;&#34;
        The sym directory of the model, where the model&#39;s sym files are stored
        and where the Python script and other SYM processor outputs are stored
        after the SYM processor has been run.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}sym/&#34;

    @property
    def ox_directory(self):
        &#34;&#34;&#34;
        This directory is only used to benchmark Python
        implementation results against Ox implementation outputs.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}ox/&#34;

    @property
    def benchmarking_reports_directory(self):
        &#34;&#34;&#34;
        This directory is where all model benchmarking reports 
        are stored.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}benchmarking/&#34;

    @property
    def simulations_directory(self) -&gt; str:
        &#34;&#34;&#34;
        This directory is where all simulation experiment definitions
        are stored. Each experiment has its own root directory that
        is a subfolder of the simulations directory.
        &#34;&#34;&#34;        
        return f&#34;{self.model_directory}simulations/&#34;

    @property
    def version(self):
        &#34;&#34;&#34;
        The unique string identifying the version of the model.
        This influences the way that the model parameters are calibrated.
        
        This configuration property must be specified.

        The name for this property in the configuration file is &#34;Version&#34;.

        Conventionally the model version is a number plus single letter string, 
        where number represents the number of sectors, and the letter relates to 
        specific regions in the model. For example:
        
        2R is the 2 region/2 sector model
        
        20R is the 2 region/20 sector model
        
        20C is the 10 region/20 sector model used for carbon emissions modelling.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_version&#34;):
            raise Exception(&#34;You must specify the model version in the model configuration.&#34;)    
        return self._version

    @property
    def build(self) -&gt; str:
        &#34;&#34;&#34;
        The string identifying the build of the model.
        This influences the way that the model parameters are calibrated.
        
        This configuration property must be specified.

        The name for this property in the configuration file is &#34;Build&#34;.

        The model build must start with an integer number but it can also
        include a suffix that consists of digits and letters (e.g. 170logv3).
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_build&#34;):
            raise Exception(&#34;You must specify the model build in the model configuration.&#34;)    
        return self._build
    
    @property
    def build_number(self) -&gt; int:
        &#34;&#34;&#34;
        The integer indicating which build of the model is being used.
        A given model version can have many different builds.

        This configuration property must be implicit in the configuration &#34;Build&#34; property.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_build_number&#34;):
            raise Exception(&#34;The model build in the model specification must start with a positive integer.&#34;)
        return self._build_number

    @property
    def sym_input_file(self):
        &#34;&#34;&#34;
        The absolute path and name of the file to process with the sym processor
        to produce the sym details for the model and the Python implementation of the
        model equations.

        This configuration property must be specified.

        The name for this property in the configuration file is &#34;SymInputFile&#34;.
        &#34;&#34;&#34;
        return f&#34;{self.sym_directory}{self._sym_input_file}&#34;

    @property
    def sym_output_filename_prefix(self):
        &#34;&#34;&#34;
        The equations Python module that is imported by the Lineariser.
        &#34;&#34;&#34;
        return f&#34;model_{self.version}_{self.build}&#34;

    @property
    def fully_qualified_equations_module_name(self):
        &#34;&#34;&#34;
        The fully qualified module name required to import the 
        SYM generated Python equations module.
        &#34;&#34;&#34;
        return f&#34;model.{self.version}.{self.build}.sym.{self.sym_output_filename_prefix}&#34;

    @property
    def equations_python_module_file(self):
        &#34;&#34;&#34;
        The name of the file that is the Python equations module for
        this model.
        &#34;&#34;&#34;
        return f&#34;{self.sym_directory}{self.sym_output_filename_prefix}.py&#34;

    @property
    def sym_output_file_path_and_prefix(self):
        &#34;&#34;&#34;
        The prefix used for all files output by the SYM processor.
        &#34;&#34;&#34;
        return f&#34;{self.sym_directory}{self.sym_output_filename_prefix}&#34;

    @property
    def varmap_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated varmap file.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_varmap.csv&#34;

    @property
    def eqnmap_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated eqnmap file.

        The file containing a listing of left and right hand side variables
        in the model equations. the LHS variable comes first, as a name of
        the vector (column 1), and the index in that vector (column 2). Then each
        RHS variable appears, again as the vector name in column 2 and the index
        in that vector in column 2.

        This information is used to populate a dictionary with keys being the vector
        and index tuple for each RHS variable and the value being a list of of
        vector name, vector index tuples, one for each equation that the RHS variable 
        occurs in. That dictionary then drives the equation evaluations used in model
        linearisation.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_eqnmap.csv&#34;

    @property
    def variables_info_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated varinfo file.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_varinfo.csv&#34;

    @property
    def opt_map_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated optmap file.

        This is not used by the Python implementation.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_optmap.csv&#34;

    @property
    def model_summary_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated lis file.

        This is not used by the Python implementation.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}.lis&#34;

    @property
    def database_file(self):
        &#34;&#34;&#34;
        The absolute path to the model&#39;s database CSV file.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._database_file}&#34;

    @property
    def io_table_file(self):
        &#34;&#34;&#34;
        The absolute path to the model&#39;s input-output tables CSV file.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._io_table_file}&#34;

    @property
    def parameters_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the values
        of the parameters that are set by the user rather than
        by calibration using database and IO table information.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._parameters_file}&#34;

    @property
    def productivity_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the information
        needed to do region/sector productivity growth projections.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._productivity_file}&#34;

    @property
    def population_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the information
        needed to do region population growth projections.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._population_file}&#34;

    @property
    def aeei_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the information
        needed to do projections of region/sector energy efficiency improvements.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._aeei_file}&#34;

    @property
    def linearisation_year(self):
        &#34;&#34;&#34;
        The year to use when selecting the database data for model linearisation 
        purposes.
        &#34;&#34;&#34;
        return self._linearisation_year

    @property
    def calibration_year(self):
        &#34;&#34;&#34;
        The year to use when selecting the database data for model parameter calibration 
        purposes.
        &#34;&#34;&#34;
        return self._calibration_year

    @property
    def calibration_of_carbon_coefficients_year(self):
        &#34;&#34;&#34;
        The year to use when selecting the database data for model parameter calibration 
        purposes for the carbon emissions related parameters.
        &#34;&#34;&#34;
        return self._calibration_of_carbon_coefficients_year

    @property
    def base_year(self):
        &#34;&#34;&#34;
        The year in which all indices are based at 1 (so their log values are 0).
        Typically, this is chosen to be the first projection year, noting that
        the first year of projections are matched up to observed data in that first
        year.
        &#34;&#34;&#34;
        return self._base_year

    @property
    def original_first_projection_year(self):
        &#34;&#34;&#34;
        The original first projection year. This is tracked 
        because, for projections that iterate forward through the projection years, 
        the first projection year will be updated with each iteration.
        &#34;&#34;&#34;
        return self._original_first_projection_year

    @property
    def first_projection_year(self):
        &#34;&#34;&#34;
        The first year that projections are to be generated for.
        Note that for baseline projections, the projections are start
        in a year where the model&#39;s database has data. so the projections
        can be lined up with the observed data in the database.
        &#34;&#34;&#34;
        return self._first_projection_year
    
    @first_projection_year.setter
    def first_projection_year(self, value: int):
        &#34;&#34;&#34;
        Set the new first projection year, updating the linearisation year also.
        The first projection year should only ever be incremented.
        &#34;&#34;&#34;
        assert value is not None
        assert isinstance(value, int)
        assert value &gt; self.first_projection_year
        self._first_projection_year = value
        self._linearisation_year = value

    @property
    def last_projection_year(self):
        &#34;&#34;&#34;
        The last year for which data will be projected.
        &#34;&#34;&#34;
        return self._last_projection_year

    @property
    def projection_years(self) -&gt; list[int]:
        return range(self.first_projection_year, self.last_projection_year+1)

    @property
    def projection_years_column_labels(self) -&gt; list[str]:
        return [str(x) for x in self.projection_years]

    @property
    def projection_years_count(self) -&gt; int:
        &#34;&#34;&#34;
        Returns the number of years that projections are done for plus one for the base projection
        year that is the year before the start of the projection years.
        &#34;&#34;&#34;
        return (self.last_projection_year - self.first_projection_year + 1)

    @property
    def stable_manifold_tolerance(self):
        &#34;&#34;&#34;
        The maximum size of the change in the stable manifold estimate
        allowed during the search for the stable manifold.

        This configuration value is used to ensure that the search for a stable
        manifold terminates within a reasonable period of time. Consider
        making this value larger if the search is not converging.

        If not specified in the configuration file, then this model configuration
        property defaults to 0.00001.

        The name for this property in the configuration file is StableManifoldTolerance
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_stable_manifold_tolerance&#34;):
            self.self._stable_manifold_tolerance = 0.00001
        return self._stable_manifold_tolerance

    @property
    def stable_manifold_maximum_iterations(self):
        &#34;&#34;&#34;
        The maximum number of iterations allowed when searching
        for the stable manifold for the model. If this number is reached
        without convergence of the stable manifold, then the model cannot 
        be used for projection purposes.

        This configuration value is used to ensure that the search for a stable
        manifold terminates within a reasonable period of time.

        If not specified in the configuration file, then this model configuration
        property defaults to 1000.

        The name for this property in the configuration file is StableManifoldMaximumIterations.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_stable_manifold_maximum_iterations&#34;):
            self.self._stable_manifold_maximum_iterations = 1000
        return self._stable_manifold_maximum_iterations

    @property
    def neutral_real_interest_rate(self):
        &#34;&#34;&#34;
        The global neutral real interest rate as a decimal, so a value of 3.6% would
        be specified inn the model configuration as 0.036.

        The name for this property in the configuration file is NeutralRealInterestRate.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_neutral_real_interest_rate&#34;):
            raise Exception(&#34;You must include a global neutral real interest rate.&#34;)      
        return self._neutral_real_interest_rate
    
    @property
    def linearise_around_strict_model_solution(self) -&gt; bool:
        &#34;&#34;&#34;
        True if the model linearisation is done around a strict model
        solution and False if the model linearisation is to instead be done
        around actual data values sourced from the model database or from a 
        previous model projection. Set this to False for standard linearisation
        as has been done for G-Cubed for decades. Set this to True if the
        actual data values are to be adjusted to find similar values that exactly
        solve all of the equations in the model before then linearising around
        those similar values.

        This property can be modified after the model has been loaded if a different
        behaviour is required.

        If not specified in the configuration file, then this model configuration
        property defaults to False.

        The name for this property in the configuration file is LineariseAroundStrictModelSolution.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_linearise_around_strict_model_solution&#34;):
            self._linearise_around_strict_model_solution = False
        return self._linearise_around_strict_model_solution

    @linearise_around_strict_model_solution.setter
    def linearise_around_strict_model_solution(self, value):
        &#34;&#34;&#34;
        ### Overview
        
        Set the value to True if the model linearisation is done around a strict model
        solution and False if the model linearisation is to instead be done
        around actual data values sourced from the model database or from a 
        previous model projection.
        &#34;&#34;&#34;
        assert value is not None
        assert isinstance(value, bool)
        self._linearise_around_strict_model_solution = value

    def _load_configuration_details(self, configuration_details: pd.DataFrame):
        &#34;&#34;&#34;

        ### Overview

        Iterates over the configuration details read in from the CSV configuration 
        file, populating the properties of this ModelConfiguration.

        ### Arguments

        configuration_details (pd.DataFrame): The panda dataframe populated by loading
        the CSV model configuration file.

        The CSV file should have the configuration property name in the first column.

        The CSV file should have the configuration property value in the second column.

        All other columns are ignored and so they can be used for documentation purposes.
        &#34;&#34;&#34;

        for row in configuration_details.itertuples(index=False):
            match row[0]:
                case &#34;Version&#34;:
                    self._version: str = str(row[1])
                case &#34;Build&#34;:
                    self._build: str = str(row[1])
                    match = re.search(r&#39;^\d+&#39;, self.build)
                    if match:
                        self._build_number: int = int(match.group(0))
                    else:
                        raise Exception(&#34;The model build must start with a positive integer.&#34;)
                case &#34;Debugging&#34;:
                    self.__class__.DOING_DETAILED_DEBUG = (int(row[1]) == 1)
                case &#34;SymInputFile&#34;:
                    self._sym_input_file: str = row[1]
                case &#34;UserParameters&#34;:
                    self._parameters_file: str = row[1]
                case &#34;IOTables&#34;:
                    self._io_table_file: str = row[1]
                case &#34;Database&#34;:
                    self._database_file: str = row[1]
                case &#34;Productivity&#34;:
                    self._productivity_file: str = row[1]
                case &#34;Population&#34;:
                    self._population_file: str = row[1]
                case &#34;AutonomousEnergyEfficiencyImprovement&#34;:
                    self._aeei_file: str = row[1]
                case &#34;LinearisationYear&#34;:
                    self._linearisation_year: int = int(row[1])
                case &#34;CalibrationYear&#34;:
                    self._calibration_year: int = int(row[1])
                case &#34;CalibrationOfCarbonCoefficientsYear&#34;:
                    self._calibration_of_carbon_coefficients_year: int = int(row[1])
                case &#34;BaseYear&#34;:
                    self._base_year: int = int(row[1])
                case &#34;FirstProjectionYear&#34;:
                    self._first_projection_year: int = int(row[1])
                    self._original_first_projection_year: int = self.first_projection_year
                case &#34;LastProjectionYear&#34;:
                    self._last_projection_year: int = int(row[1])
                case &#34;StableManifoldTolerance&#34;:
                    self._stable_manifold_tolerance = float(row[1])
                case &#34;StableManifoldMaximumIterations&#34;:
                    self._stable_manifold_maximum_iterations = int(row[1])
                case &#34;NeutralRealInterestRate&#34;:
                    self._neutral_real_interest_rate = float(row[1])
                case &#34;LineariseAroundStrictModelSolution&#34;:
                    self._linearise_around_strict_model_solution = bool(row[1])
                case _:
                    raise Exception(f&#34;Configuration parameter {row[0]} is not recognised.&#34;)

    def __validate(self):

        # Check we have a model version and a model build number.
        assert self.version is not None
        assert self.build is not None
        assert self.build_number is not None
        if self.build_number &lt;= 0:
            raise Exception(f&#34;The model build must start with a positive integer. It starts with {self.build_number}.&#34;)

        # Check that all of the files named in the configuration exist.
        if not os.path.isfile(self.sym_input_file):
            raise Exception(f&#34;Could not find the sym_input_file: {self.sym_input_file}&#34;)
        if not os.path.isfile(self.varmap_file):
            raise Exception(f&#34;Could not find the varmap file generated by the SYM processor: {self.varmap_file}&#34;)
        assert os.path.isfile(self.varmap_file)
        assert os.path.isfile(self.eqnmap_file)
        assert os.path.isfile(self.variables_info_file)
        assert os.path.isfile(self.opt_map_file)
        assert os.path.isfile(self.model_summary_file)
        assert os.path.isfile(self.equations_python_module_file)

        assert os.path.isfile(self.database_file)
        assert os.path.isfile(self.io_table_file)
        assert os.path.isfile(self.parameters_file)

        assert os.path.isfile(self.productivity_file)
        assert os.path.isfile(self.population_file)

        sys.path.append(self.sym_directory)
        equations_module = importlib.import_module(self.sym_output_filename_prefix)
        assert equations_module is not None
        assert getattr(equations_module, &#34;Equations&#34;) is not None

        assert self.base_year &lt;= self.first_projection_year

        assert self.first_projection_year &lt; self.last_projection_year
        
        if self.stable_manifold_tolerance &gt; 0.0001:
            raise Exception(&#34;The convergence tolerance when searching for the stable manifold must be less than 1e-4.&#34;)

        if self.stable_manifold_maximum_iterations &lt; 100:
            raise Exception(&#34;You must allow for at least 100 iterations in converging to the stable manifold&#34;)
        </code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="gcubed.model_configuration.ModelConfiguration"><code class="flex name class">
<span>class <span class="ident">ModelConfiguration</span></span>
<span>(</span><span>configuration_file: str)</span>
</code></dt>
<dd>
<div class="desc"><h3 id="overview">Overview</h3>
<p>Provides access to model configuration details that have been
read in from the model configuration CSV file.</p>
<h3 id="constructor">Constructor</h3>
<p>Initialises the model details from a modified version of the CSV files
used by G-cubed. The information in the file is a subset of the information
in the modeldetails.csv file and a subset of the information that is stored
in the baseinfo.csv file.</p>
<h3 id="arguments">Arguments</h3>
<pre><code>configuration_file: the relative path, from Python's
current working directory, to the model configuration file.
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ModelConfiguration(Base):
    &#34;&#34;&#34;
    ### Overview

    Provides access to model configuration details that have been
    read in from the model configuration CSV file.
    &#34;&#34;&#34;

    def __init__(self, configuration_file: str) -&gt; None:
        &#34;&#34;&#34;

        ### Constructor

        Initialises the model details from a modified version of the CSV files
        used by G-cubed. The information in the file is a subset of the information
        in the modeldetails.csv file and a subset of the information that is stored
        in the baseinfo.csv file.

        ### Arguments
            configuration_file: the relative path, from Python&#39;s
            current working directory, to the model configuration file.

        &#34;&#34;&#34;

        if not configuration_file:
            raise Exception(&#34;A configuration file is required to create a model.&#34;)

        if not os.path.isfile(configuration_file):
            raise Exception(f&#34;Configuration file {configuration_file} does not exist.&#34;)

        # Get the directory that contains the model configuration and other related files.
        self._model_directory = os.path.dirname(os.path.realpath(configuration_file))

        data: pd.DataFrame = pd.read_csv(configuration_file, header=None)
        self._load_configuration_details(configuration_details = data)
        self.__validate()

        logging.info(f&#34;Preparing to use model {self.version} {self.build}.&#34;)

        if __class__.DOING_DETAILED_DEBUG:
            logging.info(&#34;Verbose debugging information will be logged.&#34;)
            np.set_printoptions(suppress=False, formatter={&#39;float&#39;: lambda x: &#34;{0:0.12f}&#34;.format(x)})
            pd.set_option(&#39;display.max_rows&#39;, None)
            pd.set_option(&#39;display.max_columns&#39;, None)
            pd.set_option(&#39;display.width&#39;, 2000)

    @property
    def model_directory(self):
        &#34;&#34;&#34;
        The root directory of the model, where the configuration CSV file is located.
        &#34;&#34;&#34;
        return f&#34;{self._model_directory}/&#34;
    
    @property
    def data_directory(self):
        &#34;&#34;&#34;
        The data directory of the model, where the model&#39;s data files are stored.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}data/&#34;

    @property
    def sym_directory(self):
        &#34;&#34;&#34;
        The sym directory of the model, where the model&#39;s sym files are stored
        and where the Python script and other SYM processor outputs are stored
        after the SYM processor has been run.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}sym/&#34;

    @property
    def ox_directory(self):
        &#34;&#34;&#34;
        This directory is only used to benchmark Python
        implementation results against Ox implementation outputs.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}ox/&#34;

    @property
    def benchmarking_reports_directory(self):
        &#34;&#34;&#34;
        This directory is where all model benchmarking reports 
        are stored.
        &#34;&#34;&#34;
        return f&#34;{self.model_directory}benchmarking/&#34;

    @property
    def simulations_directory(self) -&gt; str:
        &#34;&#34;&#34;
        This directory is where all simulation experiment definitions
        are stored. Each experiment has its own root directory that
        is a subfolder of the simulations directory.
        &#34;&#34;&#34;        
        return f&#34;{self.model_directory}simulations/&#34;

    @property
    def version(self):
        &#34;&#34;&#34;
        The unique string identifying the version of the model.
        This influences the way that the model parameters are calibrated.
        
        This configuration property must be specified.

        The name for this property in the configuration file is &#34;Version&#34;.

        Conventionally the model version is a number plus single letter string, 
        where number represents the number of sectors, and the letter relates to 
        specific regions in the model. For example:
        
        2R is the 2 region/2 sector model
        
        20R is the 2 region/20 sector model
        
        20C is the 10 region/20 sector model used for carbon emissions modelling.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_version&#34;):
            raise Exception(&#34;You must specify the model version in the model configuration.&#34;)    
        return self._version

    @property
    def build(self) -&gt; str:
        &#34;&#34;&#34;
        The string identifying the build of the model.
        This influences the way that the model parameters are calibrated.
        
        This configuration property must be specified.

        The name for this property in the configuration file is &#34;Build&#34;.

        The model build must start with an integer number but it can also
        include a suffix that consists of digits and letters (e.g. 170logv3).
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_build&#34;):
            raise Exception(&#34;You must specify the model build in the model configuration.&#34;)    
        return self._build
    
    @property
    def build_number(self) -&gt; int:
        &#34;&#34;&#34;
        The integer indicating which build of the model is being used.
        A given model version can have many different builds.

        This configuration property must be implicit in the configuration &#34;Build&#34; property.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_build_number&#34;):
            raise Exception(&#34;The model build in the model specification must start with a positive integer.&#34;)
        return self._build_number

    @property
    def sym_input_file(self):
        &#34;&#34;&#34;
        The absolute path and name of the file to process with the sym processor
        to produce the sym details for the model and the Python implementation of the
        model equations.

        This configuration property must be specified.

        The name for this property in the configuration file is &#34;SymInputFile&#34;.
        &#34;&#34;&#34;
        return f&#34;{self.sym_directory}{self._sym_input_file}&#34;

    @property
    def sym_output_filename_prefix(self):
        &#34;&#34;&#34;
        The equations Python module that is imported by the Lineariser.
        &#34;&#34;&#34;
        return f&#34;model_{self.version}_{self.build}&#34;

    @property
    def fully_qualified_equations_module_name(self):
        &#34;&#34;&#34;
        The fully qualified module name required to import the 
        SYM generated Python equations module.
        &#34;&#34;&#34;
        return f&#34;model.{self.version}.{self.build}.sym.{self.sym_output_filename_prefix}&#34;

    @property
    def equations_python_module_file(self):
        &#34;&#34;&#34;
        The name of the file that is the Python equations module for
        this model.
        &#34;&#34;&#34;
        return f&#34;{self.sym_directory}{self.sym_output_filename_prefix}.py&#34;

    @property
    def sym_output_file_path_and_prefix(self):
        &#34;&#34;&#34;
        The prefix used for all files output by the SYM processor.
        &#34;&#34;&#34;
        return f&#34;{self.sym_directory}{self.sym_output_filename_prefix}&#34;

    @property
    def varmap_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated varmap file.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_varmap.csv&#34;

    @property
    def eqnmap_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated eqnmap file.

        The file containing a listing of left and right hand side variables
        in the model equations. the LHS variable comes first, as a name of
        the vector (column 1), and the index in that vector (column 2). Then each
        RHS variable appears, again as the vector name in column 2 and the index
        in that vector in column 2.

        This information is used to populate a dictionary with keys being the vector
        and index tuple for each RHS variable and the value being a list of of
        vector name, vector index tuples, one for each equation that the RHS variable 
        occurs in. That dictionary then drives the equation evaluations used in model
        linearisation.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_eqnmap.csv&#34;

    @property
    def variables_info_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated varinfo file.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_varinfo.csv&#34;

    @property
    def opt_map_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated optmap file.

        This is not used by the Python implementation.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}_optmap.csv&#34;

    @property
    def model_summary_file(self):
        &#34;&#34;&#34;
        The absolute path to the SYM processor generated lis file.

        This is not used by the Python implementation.
        &#34;&#34;&#34;
        return f&#34;{self.sym_output_file_path_and_prefix}.lis&#34;

    @property
    def database_file(self):
        &#34;&#34;&#34;
        The absolute path to the model&#39;s database CSV file.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._database_file}&#34;

    @property
    def io_table_file(self):
        &#34;&#34;&#34;
        The absolute path to the model&#39;s input-output tables CSV file.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._io_table_file}&#34;

    @property
    def parameters_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the values
        of the parameters that are set by the user rather than
        by calibration using database and IO table information.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._parameters_file}&#34;

    @property
    def productivity_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the information
        needed to do region/sector productivity growth projections.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._productivity_file}&#34;

    @property
    def population_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the information
        needed to do region population growth projections.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._population_file}&#34;

    @property
    def aeei_file(self):
        &#34;&#34;&#34;
        The absolute path to the CSV file containing the information
        needed to do projections of region/sector energy efficiency improvements.
        &#34;&#34;&#34;
        return f&#34;{self.data_directory}{self._aeei_file}&#34;

    @property
    def linearisation_year(self):
        &#34;&#34;&#34;
        The year to use when selecting the database data for model linearisation 
        purposes.
        &#34;&#34;&#34;
        return self._linearisation_year

    @property
    def calibration_year(self):
        &#34;&#34;&#34;
        The year to use when selecting the database data for model parameter calibration 
        purposes.
        &#34;&#34;&#34;
        return self._calibration_year

    @property
    def calibration_of_carbon_coefficients_year(self):
        &#34;&#34;&#34;
        The year to use when selecting the database data for model parameter calibration 
        purposes for the carbon emissions related parameters.
        &#34;&#34;&#34;
        return self._calibration_of_carbon_coefficients_year

    @property
    def base_year(self):
        &#34;&#34;&#34;
        The year in which all indices are based at 1 (so their log values are 0).
        Typically, this is chosen to be the first projection year, noting that
        the first year of projections are matched up to observed data in that first
        year.
        &#34;&#34;&#34;
        return self._base_year

    @property
    def original_first_projection_year(self):
        &#34;&#34;&#34;
        The original first projection year. This is tracked 
        because, for projections that iterate forward through the projection years, 
        the first projection year will be updated with each iteration.
        &#34;&#34;&#34;
        return self._original_first_projection_year

    @property
    def first_projection_year(self):
        &#34;&#34;&#34;
        The first year that projections are to be generated for.
        Note that for baseline projections, the projections are start
        in a year where the model&#39;s database has data. so the projections
        can be lined up with the observed data in the database.
        &#34;&#34;&#34;
        return self._first_projection_year
    
    @first_projection_year.setter
    def first_projection_year(self, value: int):
        &#34;&#34;&#34;
        Set the new first projection year, updating the linearisation year also.
        The first projection year should only ever be incremented.
        &#34;&#34;&#34;
        assert value is not None
        assert isinstance(value, int)
        assert value &gt; self.first_projection_year
        self._first_projection_year = value
        self._linearisation_year = value

    @property
    def last_projection_year(self):
        &#34;&#34;&#34;
        The last year for which data will be projected.
        &#34;&#34;&#34;
        return self._last_projection_year

    @property
    def projection_years(self) -&gt; list[int]:
        return range(self.first_projection_year, self.last_projection_year+1)

    @property
    def projection_years_column_labels(self) -&gt; list[str]:
        return [str(x) for x in self.projection_years]

    @property
    def projection_years_count(self) -&gt; int:
        &#34;&#34;&#34;
        Returns the number of years that projections are done for plus one for the base projection
        year that is the year before the start of the projection years.
        &#34;&#34;&#34;
        return (self.last_projection_year - self.first_projection_year + 1)

    @property
    def stable_manifold_tolerance(self):
        &#34;&#34;&#34;
        The maximum size of the change in the stable manifold estimate
        allowed during the search for the stable manifold.

        This configuration value is used to ensure that the search for a stable
        manifold terminates within a reasonable period of time. Consider
        making this value larger if the search is not converging.

        If not specified in the configuration file, then this model configuration
        property defaults to 0.00001.

        The name for this property in the configuration file is StableManifoldTolerance
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_stable_manifold_tolerance&#34;):
            self.self._stable_manifold_tolerance = 0.00001
        return self._stable_manifold_tolerance

    @property
    def stable_manifold_maximum_iterations(self):
        &#34;&#34;&#34;
        The maximum number of iterations allowed when searching
        for the stable manifold for the model. If this number is reached
        without convergence of the stable manifold, then the model cannot 
        be used for projection purposes.

        This configuration value is used to ensure that the search for a stable
        manifold terminates within a reasonable period of time.

        If not specified in the configuration file, then this model configuration
        property defaults to 1000.

        The name for this property in the configuration file is StableManifoldMaximumIterations.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_stable_manifold_maximum_iterations&#34;):
            self.self._stable_manifold_maximum_iterations = 1000
        return self._stable_manifold_maximum_iterations

    @property
    def neutral_real_interest_rate(self):
        &#34;&#34;&#34;
        The global neutral real interest rate as a decimal, so a value of 3.6% would
        be specified inn the model configuration as 0.036.

        The name for this property in the configuration file is NeutralRealInterestRate.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_neutral_real_interest_rate&#34;):
            raise Exception(&#34;You must include a global neutral real interest rate.&#34;)      
        return self._neutral_real_interest_rate
    
    @property
    def linearise_around_strict_model_solution(self) -&gt; bool:
        &#34;&#34;&#34;
        True if the model linearisation is done around a strict model
        solution and False if the model linearisation is to instead be done
        around actual data values sourced from the model database or from a 
        previous model projection. Set this to False for standard linearisation
        as has been done for G-Cubed for decades. Set this to True if the
        actual data values are to be adjusted to find similar values that exactly
        solve all of the equations in the model before then linearising around
        those similar values.

        This property can be modified after the model has been loaded if a different
        behaviour is required.

        If not specified in the configuration file, then this model configuration
        property defaults to False.

        The name for this property in the configuration file is LineariseAroundStrictModelSolution.
        &#34;&#34;&#34;
        if not hasattr(self, &#34;_linearise_around_strict_model_solution&#34;):
            self._linearise_around_strict_model_solution = False
        return self._linearise_around_strict_model_solution

    @linearise_around_strict_model_solution.setter
    def linearise_around_strict_model_solution(self, value):
        &#34;&#34;&#34;
        ### Overview
        
        Set the value to True if the model linearisation is done around a strict model
        solution and False if the model linearisation is to instead be done
        around actual data values sourced from the model database or from a 
        previous model projection.
        &#34;&#34;&#34;
        assert value is not None
        assert isinstance(value, bool)
        self._linearise_around_strict_model_solution = value

    def _load_configuration_details(self, configuration_details: pd.DataFrame):
        &#34;&#34;&#34;

        ### Overview

        Iterates over the configuration details read in from the CSV configuration 
        file, populating the properties of this ModelConfiguration.

        ### Arguments

        configuration_details (pd.DataFrame): The panda dataframe populated by loading
        the CSV model configuration file.

        The CSV file should have the configuration property name in the first column.

        The CSV file should have the configuration property value in the second column.

        All other columns are ignored and so they can be used for documentation purposes.
        &#34;&#34;&#34;

        for row in configuration_details.itertuples(index=False):
            match row[0]:
                case &#34;Version&#34;:
                    self._version: str = str(row[1])
                case &#34;Build&#34;:
                    self._build: str = str(row[1])
                    match = re.search(r&#39;^\d+&#39;, self.build)
                    if match:
                        self._build_number: int = int(match.group(0))
                    else:
                        raise Exception(&#34;The model build must start with a positive integer.&#34;)
                case &#34;Debugging&#34;:
                    self.__class__.DOING_DETAILED_DEBUG = (int(row[1]) == 1)
                case &#34;SymInputFile&#34;:
                    self._sym_input_file: str = row[1]
                case &#34;UserParameters&#34;:
                    self._parameters_file: str = row[1]
                case &#34;IOTables&#34;:
                    self._io_table_file: str = row[1]
                case &#34;Database&#34;:
                    self._database_file: str = row[1]
                case &#34;Productivity&#34;:
                    self._productivity_file: str = row[1]
                case &#34;Population&#34;:
                    self._population_file: str = row[1]
                case &#34;AutonomousEnergyEfficiencyImprovement&#34;:
                    self._aeei_file: str = row[1]
                case &#34;LinearisationYear&#34;:
                    self._linearisation_year: int = int(row[1])
                case &#34;CalibrationYear&#34;:
                    self._calibration_year: int = int(row[1])
                case &#34;CalibrationOfCarbonCoefficientsYear&#34;:
                    self._calibration_of_carbon_coefficients_year: int = int(row[1])
                case &#34;BaseYear&#34;:
                    self._base_year: int = int(row[1])
                case &#34;FirstProjectionYear&#34;:
                    self._first_projection_year: int = int(row[1])
                    self._original_first_projection_year: int = self.first_projection_year
                case &#34;LastProjectionYear&#34;:
                    self._last_projection_year: int = int(row[1])
                case &#34;StableManifoldTolerance&#34;:
                    self._stable_manifold_tolerance = float(row[1])
                case &#34;StableManifoldMaximumIterations&#34;:
                    self._stable_manifold_maximum_iterations = int(row[1])
                case &#34;NeutralRealInterestRate&#34;:
                    self._neutral_real_interest_rate = float(row[1])
                case &#34;LineariseAroundStrictModelSolution&#34;:
                    self._linearise_around_strict_model_solution = bool(row[1])
                case _:
                    raise Exception(f&#34;Configuration parameter {row[0]} is not recognised.&#34;)

    def __validate(self):

        # Check we have a model version and a model build number.
        assert self.version is not None
        assert self.build is not None
        assert self.build_number is not None
        if self.build_number &lt;= 0:
            raise Exception(f&#34;The model build must start with a positive integer. It starts with {self.build_number}.&#34;)

        # Check that all of the files named in the configuration exist.
        if not os.path.isfile(self.sym_input_file):
            raise Exception(f&#34;Could not find the sym_input_file: {self.sym_input_file}&#34;)
        if not os.path.isfile(self.varmap_file):
            raise Exception(f&#34;Could not find the varmap file generated by the SYM processor: {self.varmap_file}&#34;)
        assert os.path.isfile(self.varmap_file)
        assert os.path.isfile(self.eqnmap_file)
        assert os.path.isfile(self.variables_info_file)
        assert os.path.isfile(self.opt_map_file)
        assert os.path.isfile(self.model_summary_file)
        assert os.path.isfile(self.equations_python_module_file)

        assert os.path.isfile(self.database_file)
        assert os.path.isfile(self.io_table_file)
        assert os.path.isfile(self.parameters_file)

        assert os.path.isfile(self.productivity_file)
        assert os.path.isfile(self.population_file)

        sys.path.append(self.sym_directory)
        equations_module = importlib.import_module(self.sym_output_filename_prefix)
        assert equations_module is not None
        assert getattr(equations_module, &#34;Equations&#34;) is not None

        assert self.base_year &lt;= self.first_projection_year

        assert self.first_projection_year &lt; self.last_projection_year
        
        if self.stable_manifold_tolerance &gt; 0.0001:
            raise Exception(&#34;The convergence tolerance when searching for the stable manifold must be less than 1e-4.&#34;)

        if self.stable_manifold_maximum_iterations &lt; 100:
            raise Exception(&#34;You must allow for at least 100 iterations in converging to the stable manifold&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="gcubed.base.Base" href="base.html#gcubed.base.Base">Base</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="gcubed.model_configuration.ModelConfiguration.aeei_file"><code class="name">var <span class="ident">aeei_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the CSV file containing the information
needed to do projections of region/sector energy efficiency improvements.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def aeei_file(self):
    &#34;&#34;&#34;
    The absolute path to the CSV file containing the information
    needed to do projections of region/sector energy efficiency improvements.
    &#34;&#34;&#34;
    return f&#34;{self.data_directory}{self._aeei_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.base_year"><code class="name">var <span class="ident">base_year</span></code></dt>
<dd>
<div class="desc"><p>The year in which all indices are based at 1 (so their log values are 0).
Typically, this is chosen to be the first projection year, noting that
the first year of projections are matched up to observed data in that first
year.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def base_year(self):
    &#34;&#34;&#34;
    The year in which all indices are based at 1 (so their log values are 0).
    Typically, this is chosen to be the first projection year, noting that
    the first year of projections are matched up to observed data in that first
    year.
    &#34;&#34;&#34;
    return self._base_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.benchmarking_reports_directory"><code class="name">var <span class="ident">benchmarking_reports_directory</span></code></dt>
<dd>
<div class="desc"><p>This directory is where all model benchmarking reports
are stored.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def benchmarking_reports_directory(self):
    &#34;&#34;&#34;
    This directory is where all model benchmarking reports 
    are stored.
    &#34;&#34;&#34;
    return f&#34;{self.model_directory}benchmarking/&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.build"><code class="name">var <span class="ident">build</span> : str</code></dt>
<dd>
<div class="desc"><p>The string identifying the build of the model.
This influences the way that the model parameters are calibrated.</p>
<p>This configuration property must be specified.</p>
<p>The name for this property in the configuration file is "Build".</p>
<p>The model build must start with an integer number but it can also
include a suffix that consists of digits and letters (e.g. 170logv3).</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def build(self) -&gt; str:
    &#34;&#34;&#34;
    The string identifying the build of the model.
    This influences the way that the model parameters are calibrated.
    
    This configuration property must be specified.

    The name for this property in the configuration file is &#34;Build&#34;.

    The model build must start with an integer number but it can also
    include a suffix that consists of digits and letters (e.g. 170logv3).
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_build&#34;):
        raise Exception(&#34;You must specify the model build in the model configuration.&#34;)    
    return self._build</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.build_number"><code class="name">var <span class="ident">build_number</span> : int</code></dt>
<dd>
<div class="desc"><p>The integer indicating which build of the model is being used.
A given model version can have many different builds.</p>
<p>This configuration property must be implicit in the configuration "Build" property.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def build_number(self) -&gt; int:
    &#34;&#34;&#34;
    The integer indicating which build of the model is being used.
    A given model version can have many different builds.

    This configuration property must be implicit in the configuration &#34;Build&#34; property.
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_build_number&#34;):
        raise Exception(&#34;The model build in the model specification must start with a positive integer.&#34;)
    return self._build_number</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.calibration_of_carbon_coefficients_year"><code class="name">var <span class="ident">calibration_of_carbon_coefficients_year</span></code></dt>
<dd>
<div class="desc"><p>The year to use when selecting the database data for model parameter calibration
purposes for the carbon emissions related parameters.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def calibration_of_carbon_coefficients_year(self):
    &#34;&#34;&#34;
    The year to use when selecting the database data for model parameter calibration 
    purposes for the carbon emissions related parameters.
    &#34;&#34;&#34;
    return self._calibration_of_carbon_coefficients_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.calibration_year"><code class="name">var <span class="ident">calibration_year</span></code></dt>
<dd>
<div class="desc"><p>The year to use when selecting the database data for model parameter calibration
purposes.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def calibration_year(self):
    &#34;&#34;&#34;
    The year to use when selecting the database data for model parameter calibration 
    purposes.
    &#34;&#34;&#34;
    return self._calibration_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.data_directory"><code class="name">var <span class="ident">data_directory</span></code></dt>
<dd>
<div class="desc"><p>The data directory of the model, where the model's data files are stored.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def data_directory(self):
    &#34;&#34;&#34;
    The data directory of the model, where the model&#39;s data files are stored.
    &#34;&#34;&#34;
    return f&#34;{self.model_directory}data/&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.database_file"><code class="name">var <span class="ident">database_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the model's database CSV file.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def database_file(self):
    &#34;&#34;&#34;
    The absolute path to the model&#39;s database CSV file.
    &#34;&#34;&#34;
    return f&#34;{self.data_directory}{self._database_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.eqnmap_file"><code class="name">var <span class="ident">eqnmap_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the SYM processor generated eqnmap file.</p>
<p>The file containing a listing of left and right hand side variables
in the model equations. the LHS variable comes first, as a name of
the vector (column 1), and the index in that vector (column 2). Then each
RHS variable appears, again as the vector name in column 2 and the index
in that vector in column 2.</p>
<p>This information is used to populate a dictionary with keys being the vector
and index tuple for each RHS variable and the value being a list of of
vector name, vector index tuples, one for each equation that the RHS variable
occurs in. That dictionary then drives the equation evaluations used in model
linearisation.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def eqnmap_file(self):
    &#34;&#34;&#34;
    The absolute path to the SYM processor generated eqnmap file.

    The file containing a listing of left and right hand side variables
    in the model equations. the LHS variable comes first, as a name of
    the vector (column 1), and the index in that vector (column 2). Then each
    RHS variable appears, again as the vector name in column 2 and the index
    in that vector in column 2.

    This information is used to populate a dictionary with keys being the vector
    and index tuple for each RHS variable and the value being a list of of
    vector name, vector index tuples, one for each equation that the RHS variable 
    occurs in. That dictionary then drives the equation evaluations used in model
    linearisation.
    &#34;&#34;&#34;
    return f&#34;{self.sym_output_file_path_and_prefix}_eqnmap.csv&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.equations_python_module_file"><code class="name">var <span class="ident">equations_python_module_file</span></code></dt>
<dd>
<div class="desc"><p>The name of the file that is the Python equations module for
this model.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def equations_python_module_file(self):
    &#34;&#34;&#34;
    The name of the file that is the Python equations module for
    this model.
    &#34;&#34;&#34;
    return f&#34;{self.sym_directory}{self.sym_output_filename_prefix}.py&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.first_projection_year"><code class="name">var <span class="ident">first_projection_year</span></code></dt>
<dd>
<div class="desc"><p>The first year that projections are to be generated for.
Note that for baseline projections, the projections are start
in a year where the model's database has data. so the projections
can be lined up with the observed data in the database.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def first_projection_year(self):
    &#34;&#34;&#34;
    The first year that projections are to be generated for.
    Note that for baseline projections, the projections are start
    in a year where the model&#39;s database has data. so the projections
    can be lined up with the observed data in the database.
    &#34;&#34;&#34;
    return self._first_projection_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.fully_qualified_equations_module_name"><code class="name">var <span class="ident">fully_qualified_equations_module_name</span></code></dt>
<dd>
<div class="desc"><p>The fully qualified module name required to import the
SYM generated Python equations module.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def fully_qualified_equations_module_name(self):
    &#34;&#34;&#34;
    The fully qualified module name required to import the 
    SYM generated Python equations module.
    &#34;&#34;&#34;
    return f&#34;model.{self.version}.{self.build}.sym.{self.sym_output_filename_prefix}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.io_table_file"><code class="name">var <span class="ident">io_table_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the model's input-output tables CSV file.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def io_table_file(self):
    &#34;&#34;&#34;
    The absolute path to the model&#39;s input-output tables CSV file.
    &#34;&#34;&#34;
    return f&#34;{self.data_directory}{self._io_table_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.last_projection_year"><code class="name">var <span class="ident">last_projection_year</span></code></dt>
<dd>
<div class="desc"><p>The last year for which data will be projected.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def last_projection_year(self):
    &#34;&#34;&#34;
    The last year for which data will be projected.
    &#34;&#34;&#34;
    return self._last_projection_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.linearisation_year"><code class="name">var <span class="ident">linearisation_year</span></code></dt>
<dd>
<div class="desc"><p>The year to use when selecting the database data for model linearisation
purposes.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def linearisation_year(self):
    &#34;&#34;&#34;
    The year to use when selecting the database data for model linearisation 
    purposes.
    &#34;&#34;&#34;
    return self._linearisation_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.linearise_around_strict_model_solution"><code class="name">var <span class="ident">linearise_around_strict_model_solution</span> : bool</code></dt>
<dd>
<div class="desc"><p>True if the model linearisation is done around a strict model
solution and False if the model linearisation is to instead be done
around actual data values sourced from the model database or from a
previous model projection. Set this to False for standard linearisation
as has been done for G-Cubed for decades. Set this to True if the
actual data values are to be adjusted to find similar values that exactly
solve all of the equations in the model before then linearising around
those similar values.</p>
<p>This property can be modified after the model has been loaded if a different
behaviour is required.</p>
<p>If not specified in the configuration file, then this model configuration
property defaults to False.</p>
<p>The name for this property in the configuration file is LineariseAroundStrictModelSolution.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def linearise_around_strict_model_solution(self) -&gt; bool:
    &#34;&#34;&#34;
    True if the model linearisation is done around a strict model
    solution and False if the model linearisation is to instead be done
    around actual data values sourced from the model database or from a 
    previous model projection. Set this to False for standard linearisation
    as has been done for G-Cubed for decades. Set this to True if the
    actual data values are to be adjusted to find similar values that exactly
    solve all of the equations in the model before then linearising around
    those similar values.

    This property can be modified after the model has been loaded if a different
    behaviour is required.

    If not specified in the configuration file, then this model configuration
    property defaults to False.

    The name for this property in the configuration file is LineariseAroundStrictModelSolution.
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_linearise_around_strict_model_solution&#34;):
        self._linearise_around_strict_model_solution = False
    return self._linearise_around_strict_model_solution</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.model_directory"><code class="name">var <span class="ident">model_directory</span></code></dt>
<dd>
<div class="desc"><p>The root directory of the model, where the configuration CSV file is located.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def model_directory(self):
    &#34;&#34;&#34;
    The root directory of the model, where the configuration CSV file is located.
    &#34;&#34;&#34;
    return f&#34;{self._model_directory}/&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.model_summary_file"><code class="name">var <span class="ident">model_summary_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the SYM processor generated lis file.</p>
<p>This is not used by the Python implementation.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def model_summary_file(self):
    &#34;&#34;&#34;
    The absolute path to the SYM processor generated lis file.

    This is not used by the Python implementation.
    &#34;&#34;&#34;
    return f&#34;{self.sym_output_file_path_and_prefix}.lis&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.neutral_real_interest_rate"><code class="name">var <span class="ident">neutral_real_interest_rate</span></code></dt>
<dd>
<div class="desc"><p>The global neutral real interest rate as a decimal, so a value of 3.6% would
be specified inn the model configuration as 0.036.</p>
<p>The name for this property in the configuration file is NeutralRealInterestRate.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def neutral_real_interest_rate(self):
    &#34;&#34;&#34;
    The global neutral real interest rate as a decimal, so a value of 3.6% would
    be specified inn the model configuration as 0.036.

    The name for this property in the configuration file is NeutralRealInterestRate.
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_neutral_real_interest_rate&#34;):
        raise Exception(&#34;You must include a global neutral real interest rate.&#34;)      
    return self._neutral_real_interest_rate</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.opt_map_file"><code class="name">var <span class="ident">opt_map_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the SYM processor generated optmap file.</p>
<p>This is not used by the Python implementation.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def opt_map_file(self):
    &#34;&#34;&#34;
    The absolute path to the SYM processor generated optmap file.

    This is not used by the Python implementation.
    &#34;&#34;&#34;
    return f&#34;{self.sym_output_file_path_and_prefix}_optmap.csv&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.original_first_projection_year"><code class="name">var <span class="ident">original_first_projection_year</span></code></dt>
<dd>
<div class="desc"><p>The original first projection year. This is tracked
because, for projections that iterate forward through the projection years,
the first projection year will be updated with each iteration.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def original_first_projection_year(self):
    &#34;&#34;&#34;
    The original first projection year. This is tracked 
    because, for projections that iterate forward through the projection years, 
    the first projection year will be updated with each iteration.
    &#34;&#34;&#34;
    return self._original_first_projection_year</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.ox_directory"><code class="name">var <span class="ident">ox_directory</span></code></dt>
<dd>
<div class="desc"><p>This directory is only used to benchmark Python
implementation results against Ox implementation outputs.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def ox_directory(self):
    &#34;&#34;&#34;
    This directory is only used to benchmark Python
    implementation results against Ox implementation outputs.
    &#34;&#34;&#34;
    return f&#34;{self.model_directory}ox/&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.parameters_file"><code class="name">var <span class="ident">parameters_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the CSV file containing the values
of the parameters that are set by the user rather than
by calibration using database and IO table information.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def parameters_file(self):
    &#34;&#34;&#34;
    The absolute path to the CSV file containing the values
    of the parameters that are set by the user rather than
    by calibration using database and IO table information.
    &#34;&#34;&#34;
    return f&#34;{self.data_directory}{self._parameters_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.population_file"><code class="name">var <span class="ident">population_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the CSV file containing the information
needed to do region population growth projections.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def population_file(self):
    &#34;&#34;&#34;
    The absolute path to the CSV file containing the information
    needed to do region population growth projections.
    &#34;&#34;&#34;
    return f&#34;{self.data_directory}{self._population_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.productivity_file"><code class="name">var <span class="ident">productivity_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the CSV file containing the information
needed to do region/sector productivity growth projections.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def productivity_file(self):
    &#34;&#34;&#34;
    The absolute path to the CSV file containing the information
    needed to do region/sector productivity growth projections.
    &#34;&#34;&#34;
    return f&#34;{self.data_directory}{self._productivity_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.projection_years"><code class="name">var <span class="ident">projection_years</span> : list[int]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def projection_years(self) -&gt; list[int]:
    return range(self.first_projection_year, self.last_projection_year+1)</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.projection_years_column_labels"><code class="name">var <span class="ident">projection_years_column_labels</span> : list[str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def projection_years_column_labels(self) -&gt; list[str]:
    return [str(x) for x in self.projection_years]</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.projection_years_count"><code class="name">var <span class="ident">projection_years_count</span> : int</code></dt>
<dd>
<div class="desc"><p>Returns the number of years that projections are done for plus one for the base projection
year that is the year before the start of the projection years.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def projection_years_count(self) -&gt; int:
    &#34;&#34;&#34;
    Returns the number of years that projections are done for plus one for the base projection
    year that is the year before the start of the projection years.
    &#34;&#34;&#34;
    return (self.last_projection_year - self.first_projection_year + 1)</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.simulations_directory"><code class="name">var <span class="ident">simulations_directory</span> : str</code></dt>
<dd>
<div class="desc"><p>This directory is where all simulation experiment definitions
are stored. Each experiment has its own root directory that
is a subfolder of the simulations directory.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def simulations_directory(self) -&gt; str:
    &#34;&#34;&#34;
    This directory is where all simulation experiment definitions
    are stored. Each experiment has its own root directory that
    is a subfolder of the simulations directory.
    &#34;&#34;&#34;        
    return f&#34;{self.model_directory}simulations/&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.stable_manifold_maximum_iterations"><code class="name">var <span class="ident">stable_manifold_maximum_iterations</span></code></dt>
<dd>
<div class="desc"><p>The maximum number of iterations allowed when searching
for the stable manifold for the model. If this number is reached
without convergence of the stable manifold, then the model cannot
be used for projection purposes.</p>
<p>This configuration value is used to ensure that the search for a stable
manifold terminates within a reasonable period of time.</p>
<p>If not specified in the configuration file, then this model configuration
property defaults to 1000.</p>
<p>The name for this property in the configuration file is StableManifoldMaximumIterations.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def stable_manifold_maximum_iterations(self):
    &#34;&#34;&#34;
    The maximum number of iterations allowed when searching
    for the stable manifold for the model. If this number is reached
    without convergence of the stable manifold, then the model cannot 
    be used for projection purposes.

    This configuration value is used to ensure that the search for a stable
    manifold terminates within a reasonable period of time.

    If not specified in the configuration file, then this model configuration
    property defaults to 1000.

    The name for this property in the configuration file is StableManifoldMaximumIterations.
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_stable_manifold_maximum_iterations&#34;):
        self.self._stable_manifold_maximum_iterations = 1000
    return self._stable_manifold_maximum_iterations</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.stable_manifold_tolerance"><code class="name">var <span class="ident">stable_manifold_tolerance</span></code></dt>
<dd>
<div class="desc"><p>The maximum size of the change in the stable manifold estimate
allowed during the search for the stable manifold.</p>
<p>This configuration value is used to ensure that the search for a stable
manifold terminates within a reasonable period of time. Consider
making this value larger if the search is not converging.</p>
<p>If not specified in the configuration file, then this model configuration
property defaults to 0.00001.</p>
<p>The name for this property in the configuration file is StableManifoldTolerance</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def stable_manifold_tolerance(self):
    &#34;&#34;&#34;
    The maximum size of the change in the stable manifold estimate
    allowed during the search for the stable manifold.

    This configuration value is used to ensure that the search for a stable
    manifold terminates within a reasonable period of time. Consider
    making this value larger if the search is not converging.

    If not specified in the configuration file, then this model configuration
    property defaults to 0.00001.

    The name for this property in the configuration file is StableManifoldTolerance
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_stable_manifold_tolerance&#34;):
        self.self._stable_manifold_tolerance = 0.00001
    return self._stable_manifold_tolerance</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.sym_directory"><code class="name">var <span class="ident">sym_directory</span></code></dt>
<dd>
<div class="desc"><p>The sym directory of the model, where the model's sym files are stored
and where the Python script and other SYM processor outputs are stored
after the SYM processor has been run.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sym_directory(self):
    &#34;&#34;&#34;
    The sym directory of the model, where the model&#39;s sym files are stored
    and where the Python script and other SYM processor outputs are stored
    after the SYM processor has been run.
    &#34;&#34;&#34;
    return f&#34;{self.model_directory}sym/&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.sym_input_file"><code class="name">var <span class="ident">sym_input_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path and name of the file to process with the sym processor
to produce the sym details for the model and the Python implementation of the
model equations.</p>
<p>This configuration property must be specified.</p>
<p>The name for this property in the configuration file is "SymInputFile".</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sym_input_file(self):
    &#34;&#34;&#34;
    The absolute path and name of the file to process with the sym processor
    to produce the sym details for the model and the Python implementation of the
    model equations.

    This configuration property must be specified.

    The name for this property in the configuration file is &#34;SymInputFile&#34;.
    &#34;&#34;&#34;
    return f&#34;{self.sym_directory}{self._sym_input_file}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.sym_output_file_path_and_prefix"><code class="name">var <span class="ident">sym_output_file_path_and_prefix</span></code></dt>
<dd>
<div class="desc"><p>The prefix used for all files output by the SYM processor.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sym_output_file_path_and_prefix(self):
    &#34;&#34;&#34;
    The prefix used for all files output by the SYM processor.
    &#34;&#34;&#34;
    return f&#34;{self.sym_directory}{self.sym_output_filename_prefix}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.sym_output_filename_prefix"><code class="name">var <span class="ident">sym_output_filename_prefix</span></code></dt>
<dd>
<div class="desc"><p>The equations Python module that is imported by the Lineariser.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sym_output_filename_prefix(self):
    &#34;&#34;&#34;
    The equations Python module that is imported by the Lineariser.
    &#34;&#34;&#34;
    return f&#34;model_{self.version}_{self.build}&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.variables_info_file"><code class="name">var <span class="ident">variables_info_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the SYM processor generated varinfo file.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def variables_info_file(self):
    &#34;&#34;&#34;
    The absolute path to the SYM processor generated varinfo file.
    &#34;&#34;&#34;
    return f&#34;{self.sym_output_file_path_and_prefix}_varinfo.csv&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.varmap_file"><code class="name">var <span class="ident">varmap_file</span></code></dt>
<dd>
<div class="desc"><p>The absolute path to the SYM processor generated varmap file.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def varmap_file(self):
    &#34;&#34;&#34;
    The absolute path to the SYM processor generated varmap file.
    &#34;&#34;&#34;
    return f&#34;{self.sym_output_file_path_and_prefix}_varmap.csv&#34;</code></pre>
</details>
</dd>
<dt id="gcubed.model_configuration.ModelConfiguration.version"><code class="name">var <span class="ident">version</span></code></dt>
<dd>
<div class="desc"><p>The unique string identifying the version of the model.
This influences the way that the model parameters are calibrated.</p>
<p>This configuration property must be specified.</p>
<p>The name for this property in the configuration file is "Version".</p>
<p>Conventionally the model version is a number plus single letter string,
where number represents the number of sectors, and the letter relates to
specific regions in the model. For example:</p>
<p>2R is the 2 region/2 sector model</p>
<p>20R is the 2 region/20 sector model</p>
<p>20C is the 10 region/20 sector model used for carbon emissions modelling.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def version(self):
    &#34;&#34;&#34;
    The unique string identifying the version of the model.
    This influences the way that the model parameters are calibrated.
    
    This configuration property must be specified.

    The name for this property in the configuration file is &#34;Version&#34;.

    Conventionally the model version is a number plus single letter string, 
    where number represents the number of sectors, and the letter relates to 
    specific regions in the model. For example:
    
    2R is the 2 region/2 sector model
    
    20R is the 2 region/20 sector model
    
    20C is the 10 region/20 sector model used for carbon emissions modelling.
    &#34;&#34;&#34;
    if not hasattr(self, &#34;_version&#34;):
        raise Exception(&#34;You must specify the model version in the model configuration.&#34;)    
    return self._version</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="gcubed.model_configuration.ModelConfiguration._load_configuration_details"><code class="name flex">
<span>def <span class="ident">_load_configuration_details</span></span>(<span>self, configuration_details: pandas.core.frame.DataFrame)</span>
</code></dt>
<dd>
<div class="desc"><h3 id="overview">Overview</h3>
<p>Iterates over the configuration details read in from the CSV configuration
file, populating the properties of this ModelConfiguration.</p>
<h3 id="arguments">Arguments</h3>
<p>configuration_details (pd.DataFrame): The panda dataframe populated by loading
the CSV model configuration file.</p>
<p>The CSV file should have the configuration property name in the first column.</p>
<p>The CSV file should have the configuration property value in the second column.</p>
<p>All other columns are ignored and so they can be used for documentation purposes.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def _load_configuration_details(self, configuration_details: pd.DataFrame):
    &#34;&#34;&#34;

    ### Overview

    Iterates over the configuration details read in from the CSV configuration 
    file, populating the properties of this ModelConfiguration.

    ### Arguments

    configuration_details (pd.DataFrame): The panda dataframe populated by loading
    the CSV model configuration file.

    The CSV file should have the configuration property name in the first column.

    The CSV file should have the configuration property value in the second column.

    All other columns are ignored and so they can be used for documentation purposes.
    &#34;&#34;&#34;

    for row in configuration_details.itertuples(index=False):
        match row[0]:
            case &#34;Version&#34;:
                self._version: str = str(row[1])
            case &#34;Build&#34;:
                self._build: str = str(row[1])
                match = re.search(r&#39;^\d+&#39;, self.build)
                if match:
                    self._build_number: int = int(match.group(0))
                else:
                    raise Exception(&#34;The model build must start with a positive integer.&#34;)
            case &#34;Debugging&#34;:
                self.__class__.DOING_DETAILED_DEBUG = (int(row[1]) == 1)
            case &#34;SymInputFile&#34;:
                self._sym_input_file: str = row[1]
            case &#34;UserParameters&#34;:
                self._parameters_file: str = row[1]
            case &#34;IOTables&#34;:
                self._io_table_file: str = row[1]
            case &#34;Database&#34;:
                self._database_file: str = row[1]
            case &#34;Productivity&#34;:
                self._productivity_file: str = row[1]
            case &#34;Population&#34;:
                self._population_file: str = row[1]
            case &#34;AutonomousEnergyEfficiencyImprovement&#34;:
                self._aeei_file: str = row[1]
            case &#34;LinearisationYear&#34;:
                self._linearisation_year: int = int(row[1])
            case &#34;CalibrationYear&#34;:
                self._calibration_year: int = int(row[1])
            case &#34;CalibrationOfCarbonCoefficientsYear&#34;:
                self._calibration_of_carbon_coefficients_year: int = int(row[1])
            case &#34;BaseYear&#34;:
                self._base_year: int = int(row[1])
            case &#34;FirstProjectionYear&#34;:
                self._first_projection_year: int = int(row[1])
                self._original_first_projection_year: int = self.first_projection_year
            case &#34;LastProjectionYear&#34;:
                self._last_projection_year: int = int(row[1])
            case &#34;StableManifoldTolerance&#34;:
                self._stable_manifold_tolerance = float(row[1])
            case &#34;StableManifoldMaximumIterations&#34;:
                self._stable_manifold_maximum_iterations = int(row[1])
            case &#34;NeutralRealInterestRate&#34;:
                self._neutral_real_interest_rate = float(row[1])
            case &#34;LineariseAroundStrictModelSolution&#34;:
                self._linearise_around_strict_model_solution = bool(row[1])
            case _:
                raise Exception(f&#34;Configuration parameter {row[0]} is not recognised.&#34;)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="gcubed.base.Base" href="base.html#gcubed.base.Base">Base</a></b></code>:
<ul class="hlist">
<li><code><a title="gcubed.base.Base.get_year_labels" href="base.html#gcubed.base.Base.get_year_labels">get_year_labels</a></code></li>
<li><code><a title="gcubed.base.Base.load_data" href="base.html#gcubed.base.Base.load_data">load_data</a></code></li>
<li><code><a title="gcubed.base.Base.zeros" href="base.html#gcubed.base.Base.zeros">zeros</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="gcubed" href="index.html">gcubed</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="gcubed.model_configuration.ModelConfiguration" href="#gcubed.model_configuration.ModelConfiguration">ModelConfiguration</a></code></h4>
<ul class="">
<li><code><a title="gcubed.model_configuration.ModelConfiguration._load_configuration_details" href="#gcubed.model_configuration.ModelConfiguration._load_configuration_details">_load_configuration_details</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.aeei_file" href="#gcubed.model_configuration.ModelConfiguration.aeei_file">aeei_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.base_year" href="#gcubed.model_configuration.ModelConfiguration.base_year">base_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.benchmarking_reports_directory" href="#gcubed.model_configuration.ModelConfiguration.benchmarking_reports_directory">benchmarking_reports_directory</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.build" href="#gcubed.model_configuration.ModelConfiguration.build">build</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.build_number" href="#gcubed.model_configuration.ModelConfiguration.build_number">build_number</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.calibration_of_carbon_coefficients_year" href="#gcubed.model_configuration.ModelConfiguration.calibration_of_carbon_coefficients_year">calibration_of_carbon_coefficients_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.calibration_year" href="#gcubed.model_configuration.ModelConfiguration.calibration_year">calibration_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.data_directory" href="#gcubed.model_configuration.ModelConfiguration.data_directory">data_directory</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.database_file" href="#gcubed.model_configuration.ModelConfiguration.database_file">database_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.eqnmap_file" href="#gcubed.model_configuration.ModelConfiguration.eqnmap_file">eqnmap_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.equations_python_module_file" href="#gcubed.model_configuration.ModelConfiguration.equations_python_module_file">equations_python_module_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.first_projection_year" href="#gcubed.model_configuration.ModelConfiguration.first_projection_year">first_projection_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.fully_qualified_equations_module_name" href="#gcubed.model_configuration.ModelConfiguration.fully_qualified_equations_module_name">fully_qualified_equations_module_name</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.io_table_file" href="#gcubed.model_configuration.ModelConfiguration.io_table_file">io_table_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.last_projection_year" href="#gcubed.model_configuration.ModelConfiguration.last_projection_year">last_projection_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.linearisation_year" href="#gcubed.model_configuration.ModelConfiguration.linearisation_year">linearisation_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.linearise_around_strict_model_solution" href="#gcubed.model_configuration.ModelConfiguration.linearise_around_strict_model_solution">linearise_around_strict_model_solution</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.model_directory" href="#gcubed.model_configuration.ModelConfiguration.model_directory">model_directory</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.model_summary_file" href="#gcubed.model_configuration.ModelConfiguration.model_summary_file">model_summary_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.neutral_real_interest_rate" href="#gcubed.model_configuration.ModelConfiguration.neutral_real_interest_rate">neutral_real_interest_rate</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.opt_map_file" href="#gcubed.model_configuration.ModelConfiguration.opt_map_file">opt_map_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.original_first_projection_year" href="#gcubed.model_configuration.ModelConfiguration.original_first_projection_year">original_first_projection_year</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.ox_directory" href="#gcubed.model_configuration.ModelConfiguration.ox_directory">ox_directory</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.parameters_file" href="#gcubed.model_configuration.ModelConfiguration.parameters_file">parameters_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.population_file" href="#gcubed.model_configuration.ModelConfiguration.population_file">population_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.productivity_file" href="#gcubed.model_configuration.ModelConfiguration.productivity_file">productivity_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.projection_years" href="#gcubed.model_configuration.ModelConfiguration.projection_years">projection_years</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.projection_years_column_labels" href="#gcubed.model_configuration.ModelConfiguration.projection_years_column_labels">projection_years_column_labels</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.projection_years_count" href="#gcubed.model_configuration.ModelConfiguration.projection_years_count">projection_years_count</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.simulations_directory" href="#gcubed.model_configuration.ModelConfiguration.simulations_directory">simulations_directory</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.stable_manifold_maximum_iterations" href="#gcubed.model_configuration.ModelConfiguration.stable_manifold_maximum_iterations">stable_manifold_maximum_iterations</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.stable_manifold_tolerance" href="#gcubed.model_configuration.ModelConfiguration.stable_manifold_tolerance">stable_manifold_tolerance</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.sym_directory" href="#gcubed.model_configuration.ModelConfiguration.sym_directory">sym_directory</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.sym_input_file" href="#gcubed.model_configuration.ModelConfiguration.sym_input_file">sym_input_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.sym_output_file_path_and_prefix" href="#gcubed.model_configuration.ModelConfiguration.sym_output_file_path_and_prefix">sym_output_file_path_and_prefix</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.sym_output_filename_prefix" href="#gcubed.model_configuration.ModelConfiguration.sym_output_filename_prefix">sym_output_filename_prefix</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.variables_info_file" href="#gcubed.model_configuration.ModelConfiguration.variables_info_file">variables_info_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.varmap_file" href="#gcubed.model_configuration.ModelConfiguration.varmap_file">varmap_file</a></code></li>
<li><code><a title="gcubed.model_configuration.ModelConfiguration.version" href="#gcubed.model_configuration.ModelConfiguration.version">version</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>